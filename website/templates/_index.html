{% extends 'base.html' %}

{% block content %}
<script src="{{url_for('static', filename='js/assets/three.min.js')}}"></script>
<script src="{{url_for('static', filename='js/assets/gsap.min.js')}}"></script>

<main>
    <section id="index_section1">
        <h1>
            BARRERA'S<br>WORLD 
        </h1>
        <div id="world_ctnr"></div>
    </section>
    <section id="index_section2">
        <p class="dramatic_p">
            These are some
            <span>
                <br>PROJECTS<br>
            </span>
            I've been working on
        </p>
        <div id="clips_ctnr">
            <div class="img_standin">thefood</div>
            <div class="img_standin">tod</div>
            <div class="img_standin">broward</div>
            <div class="img_standin">ppb</div>
        </div>
    </section>
    <section id="index_section3">
        <p class="dramatic_p">
            These are some
            <span>
                <br>TECHNOLOGIES<br>
            </span>
            I like to use
        </p>
        <div class="technologies_ctnr">
            <img src="{{url_for('static', filename='images/assets/python.svg')}}" alt="python">
            <img src="{{url_for('static', filename='images/assets/html5-shield.svg')}}" alt="html5-shield">
            <img src="{{url_for('static', filename='images/assets/css-shield.svg')}}" alt="css-shield">
            <img src="{{url_for('static', filename='images/assets/javascript-shield.svg')}}" alt="javascript-shield">
            <img src="{{url_for('static', filename='images/assets/mysql.svg')}}" alt="mysql">
        </div>
    </section>
</main>





<script>
    var scene = new THREE.Scene();
    
    var camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth/window.innerHeight,
        0.1,
        1000
        )
        
    camera.position.z = 5


    var renderer = new THREE.WebGLRenderer({
        antialias: true
    })

    renderer.setClearColor ("#000");

    renderer.setSize(window.innerWidth, window.innerHeight)

    //document.body.appendChild(renderer.domElement)
    document.body.querySelector('#world_ctnr').appendChild(renderer.domElement)
    window.addEventListener('resize', ()=> {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix()
    })


    var raycaster = new THREE.Raycaster();
    var mouse = new THREE.Vector2();

    
    var geometry = new THREE.SphereBufferGeometry(1, 20, 20);
    var material = new THREE.MeshLambertMaterial({color: 0x33B8FF});
    material.metalness = 0.7
    material.roughness = 0.7

    var mesh1 = new THREE.Mesh(geometry, material)
    mesh1.position.y = 1;
    mesh1.position.x = 1;
    mesh1.position.z = .5;
    scene.add(mesh1)
    
    var geometry = new THREE.SphereBufferGeometry(.5, 15, 15);
    var material = new THREE.MeshLambertMaterial({color: 0x666666});
    var mesh2 = new THREE.Mesh(geometry, material)
    mesh2.position.x = 0;
    mesh2.position.y = 2;
    mesh2.position.z = 0;
    scene.add(mesh2)
    

    var light1 = new THREE.PointLight(0xFFFFFF, 1, 1000)
    light1.position.set(1, 1, 0);
    scene.add(light1)

    var light2 = new THREE.PointLight(0xFFFFFF, 1, 1000)
    light2.position.set(-1, -1  , 5);
    scene.add(light2)

    const clock = new THREE.Clock()
    
    this.tl = new TimelineMax().delay(.3);
    this.tl.timeScale = 1
    this.tl.to(mesh2.position,.5,{x:2, smoothChildTiming:true, ease:Expo.ease, repeat:-1, repeatDelay:.5, yoyo:true})
    this.tl.to(mesh2.position,.5,{z:1.6, ease:Expo.easeOut, repeat:-1, repeatDelay:.5, yoyo:true})
  
    
//
//    this.tl.to(mesh1.position,.5,{x:2, ease:Expo.easeOut})
//    this.tl.to(mesh1.position,.5,{z:2, ease:Expo.easeOut})
     

    var render = function (){
        requestAnimationFrame(render)

        mesh1.rotation.y += 0.02;
        mesh2.rotation.x += 0.05;
        
        

        renderer.domElement.id = 'globe_canvas';
        renderer.render(scene, camera)

        //window.requestAnimationFrame()
    }

    render();

</script>


{% endblock content %}